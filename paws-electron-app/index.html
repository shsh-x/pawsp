<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta http-equiv="Content-Security-Policy" content="default-src 'self'; connect-src http://localhost:5088; script-src 'self'; style-src 'self' 'unsafe-inline'; frame-src paws-plugin:;">
    <title>Paws</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="ui-kit.css">
</head>
<body>
    <div id="app-container">
        <div id="title-bar">
            <div id="title-section">
                <div id="title">Paws</div>
                <div id="client-switch">
                    <button id="switch-stable" class="switch-btn active">stable</button>
                    <button id="switch-lazer" class="switch-btn">lazer</button>
                </div>
            </div>
            <div id="title-bar-btns">
                <button id="minimize-btn" class="title-bar-btn">-</button>
                <button id="close-btn" class="title-bar-btn">x</button>
            </div>
        </div>

        <div id="main-layout">
            <div id="nav-bar">
                <button id="settings-btn" class="nav-item">settings</button>
            </div>

            <div id="main-content">
                <iframe id="plugin-iframe" sandbox="allow-scripts allow-forms allow-popups" style="width:100%; height:100%; border:none;"></iframe>
                
                <div id="welcome-message">
                    <h1>Welcome to Paws!</h1>
                    <p>Select a module from the sidebar to get started.</p>

                    <!-- NEW: Test Controls Area -->
                    <div id="test-controls-container">
                        <h3>Lazer Database Tests</h3>
                        <p class="test-instructions">Ensure your osu!(lazer) path is set in settings. For the write test, **make sure osu!lazer is completely closed**.</p>
                        <div class="test-buttons">
                            <button id="test-read-btn" class="paws-button secondary">Test Read Access</button>
                            <button id="test-write-btn" class="paws-button secondary">Test Write Access</button>
                        </div>
                        <div id="test-results"></div>
                    </div>
                </div>
            </div>
            <button id="resize-btn" title="Toggle Compact View"><</button>
        </div>
    </div>
    <script src="renderer.js"></script>
</body>